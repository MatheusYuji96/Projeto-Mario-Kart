<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>AquaTech | Simulador</title>

    <script src="./js/sessao.js"></script>

    <link rel="stylesheet" href="./css/estilo.css">
    <link rel="icon" href="./assets/icon/favicon2.ico">
    <link rel="preconnect" href="https://fonts.gstatic.com">
</head>

<body>

    <!--header inicio-->
    <div class="header">
        <div class="container">
            <h1 class="titulo">AquaTech</h1>
            <ul class="navbar">
                <li>
                    <a href="./index.html">Inicial</a>
                </li>
                <li>
                    <a href="historia.html">Dados dos Jogos</a>
                </li>
                <li class="agora">Simulador</li>
                <li>|</li>
                <li>
                    <a href="./login.html">Login</a>
                </li>
                <li>
                    <a href="./login.html">Cadastro</a>
                </li>
            </ul>
        </div>
    </div>


    <!-- simulador inicio -->
    <div class="simulador">
        <div class="container">
            <h1>Simulador</h1>
            <h3>Vamos lá!! Quer imaginar como funciona uma corrida em Mario Kart? Então vamos brincar neste
                simulador de corrida!!</h3><br><br>
            <div class="simula" id="simcorrida" style="display: block;">
                Quais os Nomes dos Jogadores?<br><br><input type="text" id="iptNome1">
                <div id="msgjogador1"></div><br><br><input type="text" id="iptNome2">
                <div id="msgjogador2"></div><br><br>
                Quantas corridas? <input type="number" id="iptNumCor" min="3" max="12">
                <div id="msgnumcor"></div><br><br>
                Jogador 1: Escolha um piloto: <select id="piloto1">
                    <option value="#">Selecione</option>
                    <option value="Mario">Mario</option>
                    <option value="Luigi">Luigi</option>
                    <option value="Yoshi">Yoshi</option>
                    <option value="Peach">Peach</option>
                    <option value="Bowser">Bowser</option>
                </select>
                <div id="msgpiloto1"></div><br><br>
                Jogador 2: Escolha o piloto <select id="piloto2">
                    <option value="#">Selecione</option>
                    <option value="M">Mario</option>
                    <option value="L">Luigi</option>
                    <option value="Yoshi">Yoshi</option>
                    <option value="Peach">Peach</option>
                    <option value="Bowser">Bowser</option>
                </select>
                <div id="msgpiloto2"></div><br><br>
                Corrida: <button onclick="sortear()">Pontuação</button><br><br>
                Resultado: <button onclick="resultParcial()">Classificação</button>
                ITENS!!! <button onclick="risco()">Perigo!</button><br><br>
                Final: <button onclick="resultFinal()">Resultados</button>
                <div id="mensagem"></div>
            </div>
        </div>
    </div>
    <!-- simulador fim -->

    <!--footer inicio-->
    <div class="footer">
        <div class="container">
            <h4>Feito com amor por aluno &hearts; SPTech &copy; 2023</h4>
            <span class="version">v1.0.0</span>
        </div>
    </div>
    <!--footer fim-->
    
    
</body>
<script>
    let P1 = [];
    let P2 = [];
    let PontFinal1 = 0;
    let PontFinal2 = 0;
    function sortear() {
        let nome1 = iptNome1.value;
        let nome2 = iptNome2.value;
        let nomepiloto1 = piloto1.value;
        let nomepiloto2 = piloto2.value;
        let numCor = Number(iptNumCor.value);
        if (iptNome1.value == '' && iptNome2.value == '') {
            msgjogador1.innerHTML = `Insira o nome do jogador 1`
            msgjogador2.innerHTML = `Insira o nome do jogador 2`
        } else if (iptNome1.value == '') {
            msgjogador1.innerHTML = `Insira o nome do jogador 1`
        } else if (iptNome2.value == '') {
            msgjogador2.innerHTML = `Insira o nome do jogador 2`
        }
        if (piloto1.value == '#' && piloto2.value == '#') {
            msgpiloto1.innerHTML = `Escolha um piloto dentre as opções`
            msgpiloto2.innerHTML = `Escolha um piloto dentre as opções`
        } else if (piloto1.value == '#') {
            msgpiloto1.innerHTML = `Escolha um piloto dentre as opções`
        } else if (piloto2.value == '#') {
            msgpiloto2.innerHTML = `Escolha um piloto dentre as opções`
        }
        if (iptNumCor.value == '' || numCor <= 2 || numCor > 12 || numCor % 1 != 0) {
            msgnumcor.innerHTML = `Escolha um número de corridas inteiro e entre 3 e 12`
        } else {
            for (let sequencia = 0; sequencia < numCor; sequencia++) {
                let sorteio1 = Math.random()
                P1.push(Number((sorteio1 * 11 + 1).toFixed(0)));
                let sorteio2 = Math.random()
                P2.push(Number((sorteio2 * 11 + 1).toFixed(0)));
            }
        }
    }
    function resultParcial() {
        let sequencia = 0;
        while (sequencia < P1.length) {
            PontFinal1 = PontFinal1 + P1[sequencia];
            PontFinal2 = PontFinal2 + P2[sequencia];
            sequencia++
        }
        mensagem.innerHTML = `<br><br>Resultados: Jogador 1 = ${PontFinal1} pontos<br><br>Jogador 2 = ${PontFinal2} pontos`
    }
    function risco(){
        let sorteioRisco1 = Math.random()
        if ((sorteioRisco1 * 9 + 1).toFixed(0) == 1){
            PontFinal1 = PontFinal1 - (Number(sorteioRisco1 * 9 + 1).toFixed(0)) * 2
            mensagem.innerHTML = `Jogador 1: Você escorregou na casca de banana e perdeu 2 pontos<br><br>`
        } else if ((sorteioRisco1 * 9 + 1).toFixed(0) == 2){
            PontFinal1 = PontFinal1 - (Number(sorteioRisco1 * 9 + 1).toFixed(0)) * 2
            mensagem.innerHTML = `Jogador 1: Você levou dano de um casco verde e perdeu 4 pontos<br><br>`
        } else if ((sorteioRisco1 * 9 + 1).toFixed(0) == 3){
            PontFinal1 = PontFinal1 - (Number(sorteioRisco1 * 9 + 1).toFixed(0)) * 2
            mensagem.innerHTML = `Jogador 1: Você levou dano de um casco vermelho e perdeu 6 pontos<br><br>`
        } else if ((sorteioRisco1 * 9 + 1).toFixed(0) == 5){
            PontFinal1 = PontFinal1 - (Number(sorteioRisco1 * 9 + 1).toFixed(0)) * 2
            mensagem.innerHTML = `Jogador 1: Você foi explodido por uma Bob-omb e perdeu 10 pontos<br><br>`
        } else if ((sorteioRisco1 * 9 + 1).toFixed(0) == 8){
            PontFinal1 = PontFinal1 - (Number(sorteioRisco1 * 9 + 1).toFixed(0)) * 2
            mensagem.innerHTML = `Jogador 1: Você levou choque de um raio e perdeu 16 pontos<br><br>`
        } else if ((sorteioRisco1 * 9 + 1).toFixed(0) == 10){
            PontFinal1 = PontFinal1 - (Number(sorteioRisco1 * 9 + 1).toFixed(0)) * 2
            mensagem.innerHTML = `Jogador 1: Você levou um casco azul na cabeça e perdeu 20 pontos<br><br>`
        } else {
            mensagem.innerHTML = `Jogador 1: Você passou ileso pelos itens e não perdeu pontos<br><br>`
        }
        let sorteioRisco2 = Math.random()
        if ((sorteioRisco2 * 9 + 1).toFixed(0) == 1){
            PontFinal2 = PontFinal2 - (Number(sorteioRisco2 * 9 + 1).toFixed(0)) * 2
            mensagem.innerHTML += `Jogador 2: Você escorregou na casca de banana e perdeu 2 pontos`
        } else if ((sorteioRisco2 * 9 + 1).toFixed(0) == 2){
            PontFinal2 = PontFinal2 - (Number(sorteioRisco2 * 9 + 1).toFixed(0)) * 2
            mensagem.innerHTML += `Jogador 2: Você levou dano de um casco verde e perdeu 4 pontos`
        } else if ((sorteioRisco2 * 9 + 1).toFixed(0) == 3){
            PontFinal2 = PontFinal2 - (Number(sorteioRisco2 * 9 + 1).toFixed(0)) * 2
            mensagem.innerHTML += `Jogador 2: Você levou dano de um casco vermelho e perdeu 6 pontos`
        } else if ((sorteioRisco2 * 9 + 1).toFixed(0) == 5){
            PontFinal2 = PontFinal2 - (Number(sorteioRisco2 * 9 + 1).toFixed(0)) * 2
            mensagem.innerHTML += `Jogador 2: Você foi explodido por uma Bob-omb e perdeu 10 pontos`
        } else if ((sorteioRisco2 * 9 + 1).toFixed(0) == 8){
            PontFinal2 = PontFinal2 - (Number(sorteioRisco2 * 9 + 1).toFixed(0)) * 2
            mensagem.innerHTML += `Jogador 2: Você levou choque de um raio e perdeu 16 pontos`
        } else if ((sorteioRisco2 * 9 + 1).toFixed(0) == 10){
            PontFinal2 = PontFinal2 - (Number(sorteioRisco2 * 9 + 1).toFixed(0)) * 2
            mensagem.innerHTML += `Jogador 2: Você levou um casco azul na cabeça e perdeu 20 pontos`
        } else {
            mensagem.innerHTML += `Jogador 2: Você passou ileso pelos itens e não perdeu pontos`
        }
    }
    function resultFinal() {
        if (PontFinal1 > PontFinal2) {
            mensagem.innerHTML = `Parabéns, Jogador 1!! Você venceu a competição!!`
        } else if (PontFinal2 > PontFinal1) {
            mensagem.innerHTML = `Parabéns, Jogador 2!! Você venceu a competição!!`
        } else if (PontFinal1 == PontFinal2) {
            mensagem.innerHTML = `Temos um EMPATEEE!!`
        }
        mensagem.innerHTML += `<br><br>Resultados Finais: Jogador 1 = ${PontFinal1} pontos<br><br>Jogador 2 = ${PontFinal2} pontos`
    }
</script>

</html>